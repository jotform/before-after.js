!function(e){function a(a,t,n){a.on("mousedown touchstart",function(o){a.addClass("ba-draggable"),t.addClass("ba-resizable");var s=o.pageX?o.pageX:o.originalEvent.touches[0].pageX,i=a.outerWidth(),l=a.offset().left+i-s,u=n.offset().left,f=n.outerWidth();minLeft=u+10,maxLeft=u+f-i-10,a.parents().on("mousemove touchmove",function(a){var n=a.pageX?a.pageX:a.originalEvent.touches[0].pageX;leftValue=n+l-i,leftValue<minLeft?leftValue=minLeft:leftValue>maxLeft&&(leftValue=maxLeft),widthValue=100*(leftValue+i/2-u)/f+"%",e(".ba-draggable").css("left",widthValue).on("mouseup touchend touchcancel",function(){e(this).removeClass("ba-draggable"),t.removeClass(".ba-resizable")}),e(".ba-resizable").css("width",widthValue)}).on("mouseup touchend touchcancel",function(){a.removeClass("ba-draggable"),t.removeClass("ba-resizable")}),o.preventDefault()}).on("mouseup touchend touchcancel",function(e){a.removeClass("ba-draggable"),t.removeClass("ba-resizable")})}e.fn.beforeAfter=function(){var t=this,n=t.width()+"px";t.find(".resize img").css("width",n),a(t.find(".handle"),t.find(".resize"),t),e(window).resize(function(){var e=t.width()+"px";t.find(".resize img").css("width",e)})}}(jQuery);
