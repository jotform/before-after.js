!function(e){e.fn.beforeAfter=function(t){(t=t||function(){})();var a=this,n=a.width()+"px";return a.find(".resize img").css("width",n),!function t(a,n,s){a.on("mousedown.ba-events touchstart.ba-events",function(t){a.addClass("ba-draggable"),n.addClass("ba-resizable");var i=t.pageX?t.pageX:t.originalEvent.touches[0].pageX,o=a.outerWidth(),r=a.offset().left+o-i,f=s.offset().left,u=s.outerWidth();minLeft=f+10,maxLeft=f+u-o-10,a.parents().on("mousemove.ba-events touchmove.ba-events",function(t){(leftValue=(t.pageX?t.pageX:t.originalEvent.touches[0].pageX)+r-o)<minLeft?leftValue=minLeft:leftValue>maxLeft&&(leftValue=maxLeft),widthValue=(leftValue+o/2-f)*100/u+"%",e(".ba-draggable").css("left",widthValue),e(".ba-resizable").css("width",widthValue)}).on("mouseup.ba-events touchend.ba-events touchcancel.ba-events",function(){a.removeClass("ba-draggable"),n.removeClass("ba-resizable"),e(this).off(".ba-events")}),t.preventDefault()})}(a.find(".handle"),a.find(".resize"),a),e(window).on("resize",function(){var e=a.width()+"px";a.find(".resize img").css("width",e)}),this}}(jQuery);
